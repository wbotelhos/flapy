/*!
 * jQuery Flapy - A Tab Menu
 *
 * Licensed under The MIT License
 *
 * @version        0.1.0
 * @author         Washington Botelho
 * @documentation  wbotelhos.com/flapy
 *
 */

;(function(b){var a={init:function(c){return this.each(function(){this.opt=b.extend({},b.fn.flapy.defaults,c);var d=b(this).addClass("flapy");a._header.call(this);this.opt.boxes=d.children(this.opt.box);if(this.opt.wrapper){this.opt.boxes=d.children(this.opt.wrapper).addClass("flapy-wrapper").children(this.opt.box);}else{this.opt.boxes=d.children(this.opt.box);}this.opt.boxes.addClass("flapy-box");this.opt.boxes.eq(this.opt.activedIndex).addClass("active");a._bindTabs.call(this);a._expandTabs.call(this);d.data({settings:this.opt,flapy:true});});},_expandTabs:function(){var j=b(this),g=j.outerWidth(),h=this.opt.headers.length,f=g%h,c=(g-f)/h;this.opt.tabs.width(c);for(var d=0;d<f;d++){var e=this.opt.tabs.eq(d);e.width(e.width()+1);}},_bindTabs:function(){var c=this;c.opt.tabs.on("click",function(d){var f=b(this);if(f.hasClass("active")){return false;}var e=c.opt.tabs.index(f);a._activeTab.call(c,e);c.opt.boxes.removeClass("active");c.opt.boxes.eq(e).addClass("active");});},_header:function(){this.opt.header=b("<ul />",{"class":"flapy-header"}).prependTo(this);this.opt.activedIndex=0;for(var e in this.opt.headers){var d=this.opt.headers[e],c=b("<li />"),f=b("<div />");if(d.active){this.opt.activedIndex=e;}if(d.tag){b("<"+d.tag+" />",{text:d.text}).appendTo(f);}else{f.text(d.text);}f.appendTo(c);c.appendTo(this.opt.header);}this.opt.tabs=this.opt.header.children("li");a._activeTab.call(this,this.opt.activedIndex);},_activeTab:function(c){var e=this.opt.headers.length,d=this.opt.tabs.removeClass("active").removeClass("flapy-none-left").removeClass("flapy-none-right").eq(c).addClass("active");if(e>2){if(c==0){d.next("li").addClass("flapy-none-left");}else{if(c==e-1){d.prev("li").addClass("flapy-none-right");}}}}};b.fn.flapy=function(c){if(a[c]){return a[c].apply(this,Array.prototype.slice.call(arguments,1));}else{if(typeof c==="object"||!c){return a.init.apply(this,arguments);}else{b.error("Method "+c+" does not exist!");}}};b.fn.flapy.defaults={box:"div",headers:[],wrapper:undefined};})(jQuery);
