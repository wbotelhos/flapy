/*!
 * jQuery Flapy - A Tab Menu
 *
 * Licensed under The MIT License
 *
 * @version        0.3.0
 * @author         Washington Botelho
 * @documentation  wbotelhos.com/flapy
 *
 */

;(function(b){var a={init:function(c){return this.each(function(){this.opt=b.extend({},b.fn.flapy.defaults,c);var d=b(this).addClass("flapy"),e=this.opt.wrapper?d.children(this.opt.wrapper).addClass("flapy-wrapper"):d;this.header=a._header.call(this);this.tabs=this.header.children("li");this.boxes=a._boxes.call(this,e);a._activeView.call(this,this.activedIndex);a._bindTabs.call(this);a._expandTabs.call(this);d.data({settings:this.opt,flapy:true});});},_activeTab:function(c){var e=this.opt.headers.length,d=this.tabs.removeClass("active flapy-none-left flapy-none-right").eq(c).addClass("active");if(e>2){if(c==0){d.next("li").addClass("flapy-none-left");}else{if(c==e-1){d.prev("li").addClass("flapy-none-right");}}}},_activeBox:function(c){this.boxes.removeClass("active").eq(c).addClass("active");},_activeView:function(c){if(this.opt.border){a._activeTab.call(this,c);}a._activeBox.call(this,c);},_bindTabs:function(){var c=this;c.tabs.on("click",function(d){var f=b(this);if(f.hasClass("active")){return false;}var e=c.tabs.index(f);a._activeView.call(c,e);});},_boxes:function(c){var f=c.children(this.opt.box).addClass("flapy-box");for(var e in this.opt.headers){var d=this.opt.headers[e];if(d.remove){f.eq(e).remove();f=f.filter(function(g){return e!=g;});}else{if(d.hide){f.eq(e).hide();}}}return f;},_expandTabs:function(){var d=b(this),h=d.outerWidth(),k=this.opt.headers.length,g=h%k,c=(h-g)/k,j=d.css("width").indexOf("%")>0?"%":"";this.tabs.width(c+j);for(var e=0;e<g;e++){var f=this.tabs.eq(e);f.width((f.width()+1)+j);}},_header:function(){var f=this,h=b("<ul />",{"class":"flapy-header"}).prependTo(f);f.activedIndex=0;for(var e in f.opt.headers){var d=f.opt.headers[e],c=b("<li />"),g=b("<div />");if(d.hide){c.hide();}if(d.remove||d.hide){if(e==0){f.activedIndex++;}}else{if(d.active){f.activedIndex=e;}}if(!d.remove){if(d.tag){b("<"+d.tag+" />",{text:d.text}).appendTo(g);}else{g.text(d.text);}g.appendTo(c);c.appendTo(h);}}return h;}};b.fn.flapy=function(c){if(a[c]){return a[c].apply(this,Array.prototype.slice.call(arguments,1));}else{if(typeof c==="object"||!c){return a.init.apply(this,arguments);}else{b.error("Method "+c+" does not exist!");}}};b.fn.flapy.defaults={border:true,box:"div",headers:[],wrapper:undefined};})(jQuery);
